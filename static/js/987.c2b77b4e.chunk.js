"use strict";(self.webpackChunklearn_lingo=self.webpackChunklearn_lingo||[]).push([[987],{9862:(e,s,t)=>{t.d(s,{s:()=>f});var a=t(2791),l=t(3439),r=t(5291),n=t(1134),i=t(8007),c=t(4695),o=t(5218),x=t(5113),d=t(184);const m=i.Ry().shape({fullName:i.Z_().required("Full name is required").min(3,"Full name must be at least 3 characters").max(50,"Full name must be less than 50 characters"),email:i.Z_().required("Email is required").matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Invalid email format"),phone:i.Z_().required("Phone number is required").matches(/^\+[0-9]+$/,"Please enter phone number in +380 format")}),u=e=>{var s,t,a;let{onClose:r,avatar_url:i,name:u}=e;const{register:p,handleSubmit:h,formState:{errors:f}}=(0,n.cI)({resolver:(0,c.X)(m)});return(0,d.jsxs)("div",{className:"relative text-text w-[300px] md:w-[600px] p-5 md:p-16",children:[(0,d.jsx)("button",{type:"button",className:"absolute flex justify-center items-center top-4 right-4 md:top-5 md:right-5",onClick:r,children:(0,d.jsx)("svg",{className:"stroke-text fill-transparent size-6 md:size-8",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_close_btn`})})}),(0,d.jsx)("h2",{className:" text-[24px] md:text-[40px]/[1.2] tracking-[-0.8px] font-medium mb-5",children:"Book trial lesson"}),(0,d.jsx)("p",{className:"mb-6 md:mb-10 text-sm md:text-base/[1.37]",children:"Our experienced tutor will assess your current language level, discuss your learning goals, and tailor the lesson to your specific needs."}),(0,d.jsxs)("div",{className:" flex flex-row  items-center gap-[14px] mb-6 md:mb-10",children:[(0,d.jsx)("img",{src:i,alt:"avatar",className:"size-11 rounded-full"}),(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsx)("p",{className:"text-lightGray text-xs font-medium ",children:"Your teacher"}),(0,d.jsx)("p",{className:"text-base font-medium",children:u})]})]}),(0,d.jsx)("p",{className:"text-base md:text-2xl font-medium mb-5",children:"What is your main reason for learning English?"}),(0,d.jsxs)("form",{onSubmit:h((()=>{o.ZP.success("You have successfully booked a trial lesson"),r()})),className:"text-text ",children:[(0,d.jsxs)("div",{className:"h-[160px] md:h-[200px] overflow-y-auto overflow-x-hidden scroll-smooth",children:[(0,d.jsxs)("div",{className:"flex flex-col justify-center gap-2 md:gap-[18px] text-xs md:text-base/[1.37] font-normal mb-6 md:mb-10",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"reason",value:"Career and business",...p("reason"),className:"radio-input",defaultChecked:!0}),(0,d.jsx)("span",{className:"radio-indicator"}),"Career and business"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"reason",value:"Lesson for kids",...p("reason"),className:"radio-input"}),(0,d.jsx)("span",{className:"radio-indicator"}),"Lesson for kids"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"reason",value:"Living abroad",...p("reason"),className:"radio-input"}),(0,d.jsx)("span",{className:"radio-indicator"}),"Living abroad"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"reason",value:"Exams and coursework",...p("reason"),className:"radio-input"}),(0,d.jsx)("span",{className:"radio-indicator"}),"Exams and coursework"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"reason",value:"Culture, travel or hobby",...p("reason"),className:"radio-input"}),(0,d.jsx)("span",{className:"radio-indicator"}),"Culture, travel or hobby"]})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{...p("fullName"),placeholder:"Full Name",className:" w-[250px] md:w-[450px] p-2 md:py-4 md:px-[18px] text-xs md:text-base  placeholder:text-text border-[1px] border-text/[0.1] focus:border-accent focus:outline-none  rounded-xl mb-[18px]"}),f&&(0,d.jsx)("p",{className:" absolute text-accent text-xs -bottom-0 left-2 ",children:null===(s=f.fullName)||void 0===s?void 0:s.message})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{...p("email"),placeholder:"Email",className:" w-[250px] md:w-[450px] p-2 md:py-4 md:px-[18px] text-xs md:text-base placeholder:text-text border-[1px] border-text/[0.1] focus:border-accent focus:outline-none  rounded-xl mb-[18px]"}),f&&(0,d.jsx)("p",{className:" absolute text-accent text-xs  -bottom-0 left-2",children:null===(t=f.email)||void 0===t?void 0:t.message})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{placeholder:"Phone number",...p("phone"),className:"w-[250px] md:w-[450px] p-2 md:py-4 md:px-[18px] text-xs md:text-base placeholder:text-text  border-[1px]  border-text/[0.1] focus:border-accent focus:outline-none  rounded-xl mb-[18px]"}),f&&(0,d.jsx)("p",{className:" absolute text-accent text-xs  -bottom-0 left-2",children:null===(a=f.phone)||void 0===a?void 0:a.message})]})]}),(0,d.jsx)(x.o,{text:"Book",className:"mt-6 md:mt-[32px]"})]})]})};var p=t(1087);const h=e=>{var s;let{teacher:t,isFavorite:n,handleFavorite:i}=e;const{id:c,avatar_url:o,name:x,surname:m,lessons_done:h,rating:f,price_per_hour:g,languages:j,lesson_info:b,conditions:v,experience:N,reviews:w,levels:y}=t,[k,_]=(0,a.useState)(!1),[C,Z]=(0,a.useState)(!1),[$]=(0,p.lr)(),z=null===(s=$.get("level"))||void 0===s?void 0:s.toLowerCase(),E=(e,s)=>e.map(((t,a)=>(0,d.jsxs)("span",{className:`text-text ${"languages"===s?"underline":""} `,children:[t,a!==e.length-1&&", "]},t))),H=()=>{Z(!1)};return(0,d.jsxs)("div",{className:"relative p-2 md:p-3 lg:p-6 flex flex-col items-center lg:items-start lg:flex-row gap-3 md:gap-6 lg:gap-12 bg-white rounded-3xl text-text font-medium",children:[(0,d.jsxs)("div",{className:" relative min-w-[120px] h-[120px] rounded-full border-[3px] border-background flex justify-center items-center ",children:[(0,d.jsx)("img",{src:o,alt:"avatar",className:"size-[96px] rounded-full"}),(0,d.jsx)("svg",{className:"absolute top-[18px] right-[18px] size-3",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_online`})})]}),(0,d.jsxs)("div",{className:" flex flex-col  gap-3 md:gap-6 lg:gap-8  w-full",children:[(0,d.jsxs)("div",{className:" flex flex-col  lg:flex-row justify-between items-center lg:justify-between lg:items-start w-full gap-2",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2 ",children:[(0,d.jsx)("p",{className:" text-center lg:text-left text-lightGray",children:"Teacher"}),(0,d.jsx)("h2",{className:"text-2xl ",children:x+" "+m})]}),(0,d.jsxs)("ul",{className:"flex flex-row text-sm md:text-base items-center gap-2 flex-wrap  lg:mr-16",children:[(0,d.jsxs)("li",{className:"inline-flex flex-row gap-2 items-center after:content-[''] after:h-[16px] after:w-[1px] after:bg-text/[0.2] after:mx-4",children:[(0,d.jsx)("svg",{className:"stroke-black fill-transparent size-4",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_book_open`})}),(0,d.jsx)("p",{children:"Lessons online"})]}),(0,d.jsx)("li",{className:"inline-flex flex-row gap-2 items-center after:content-[''] after:h-[16px] after:w-[1px] after:bg-text/[0.2] after:mx-4",children:(0,d.jsxs)("p",{children:["Lessons done: ",h]})}),(0,d.jsxs)("li",{className:"inline-flex flex-row gap-2 items-center after:content-[''] after:h-[16px] after:w-[1px] after:bg-text/[0.2] after:mx-4",children:[(0,d.jsx)("svg",{className:"  size-4",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_star`})}),(0,d.jsxs)("p",{children:["Rating: ",f]})]}),(0,d.jsx)("li",{className:"inline-flex flex-row gap-2 items-center",children:(0,d.jsxs)("p",{children:["Price / 1 hour:"," ",(0,d.jsxs)("span",{className:"text-green",children:[g," $"]})]})})]}),(0,d.jsx)("button",{type:"button",className:"absolute flex justify-center items-center  top-2 right-2 md:top-3 md:right-3 lg:top-6 lg:right-6",onClick:()=>i(c),children:(0,d.jsx)("svg",{className:"  size-[24px]  "+(n?"fill-accent stroke-accent":"fill-transparent stroke-text"),children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_heart`})})})]}),(0,d.jsxs)("div",{className:"flex flex-col items-start gap-2 text-lightGray ",children:[(0,d.jsxs)("p",{children:["Speaks: ",E(j,"languages")]}),(0,d.jsxs)("p",{children:["Lesson Info: ",(0,d.jsx)("span",{className:"text-text",children:b})]}),(0,d.jsxs)("p",{children:["Conditions: ",E(v)]}),k&&(0,d.jsxs)("div",{className:"flex flex-col items-start gap-3 md:gap-6 lg:gap-8 text-text mb-2",children:[(0,d.jsx)("p",{className:"max-w-full break-words",children:N}),(0,d.jsx)("ul",{className:"flex flex-col gap-3 md:gap-6 lg:gap-8",children:w.map((e=>{let{reviewer_name:s,reviewer_rating:t,comment:a}=e;return(0,d.jsxs)("li",{children:[(0,d.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-4",children:[(0,d.jsx)("svg",{className:"stroke-white fill-accent size-[44px]",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_avatar`})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-lightGray",children:s})," ",(0,d.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,d.jsx)("svg",{className:"size-4",children:(0,d.jsx)("use",{xlinkHref:`${l.Z}#icon_star`})}),(0,d.jsx)("p",{children:t})]})]})]}),(0,d.jsx)("p",{children:a})," "]},s)}))})]}),(0,d.jsx)("button",{type:"button",className:"underline mt-2 text-text",onClick:()=>{_(!k)},children:k?"Read less":"Read more"})]}),(0,d.jsx)("ul",{className:"flex flex-row flex-wrap gap-2 text-text text-sm md:text-base ",children:y.map((e=>{const s=(e=>e.toLowerCase().replace(/\s+/g,"_"))(e)===z;return(0,d.jsx)("li",{children:(0,d.jsx)("button",{type:"button",className:"rounded-[35px] border border-text/[0.2] px-3 py-2 "+(s?"bg-accent":"bg-transparent"),children:e})},e)}))}),k&&(0,d.jsx)("button",{type:"button",className:" w-full md:w-[232px] py-2 md:py-4 text-text bg-accent rounded-xl",onClick:()=>{C||Z(!0)},children:"Book trial lesson"})]}),C&&(0,d.jsx)(r.P,{isOpen:C,onClose:H,styleVariant:"default",children:(0,d.jsx)(u,{avatar_url:o,name:x+" "+m,onClose:H})})]})},f=e=>{let{teachers:s,favorites:t,handleFavorite:a}=e;return(0,d.jsx)("ul",{className:"flex flex-col gap-2 md:gap-4 lg:gap-8 md:flex-col items-center mb-5 md:mb-11 mx-auto",children:s.map((e=>(0,d.jsx)("li",{className:"w-full",children:(0,d.jsx)(h,{teacher:e,isFavorite:t.includes(e.id),handleFavorite:a})},e.id)))})}},1256:(e,s,t)=>{t.d(s,{OT:()=>o,Os:()=>n,TC:()=>i,id:()=>c,mN:()=>x});var a=t(2685),l=t(8986);const r=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const t=(0,a.iH)(l.db,"teachers"),r=e?(0,a.IO)(t,(0,a.R)(),(0,a.e0)(e),(0,a.Kk)(s+1)):(0,a.IO)(t,(0,a.R)("id"),(0,a.Kk)(s));try{const s=await(0,a.U2)(r),t=[];return s.forEach((e=>{const s=e.val();t.push(s)})),e?t.slice(1):t}catch(n){throw n}},n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return r(null,e)},i=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return r(e,s)},c=async e=>{const s=(0,a.iH)(l.db,`teachers/${e}`);try{const t=await(0,a.U2)(s);return t.exists()?{id:e,...t.val()}:(console.log(`No teacher found for ID: ${e}`),null)}catch(t){return console.error(`Error fetching teacher with ID: ${e}`,t),null}},o=async e=>{const s=(0,a.iH)(l.db,`users/${e}/favorites`);try{const e=await(0,a.U2)(s);return e.exists()?e.val():[]}catch(t){throw t}},x=async(e,s,t)=>{const r=(0,a.iH)(l.db,`users/${e}/favorites`);t?await(0,a.Vx)(r,{[s]:null}):await(0,a.Vx)(r,{[s]:!0})}},7987:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(2791),l=t(1087),r=t(5218),n=t(8986),i=t(1256),c=t(9862),o=t(4642),x=t(184);const d=()=>{const[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)([]),[m,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!0),f=n.I.currentUser;(0,a.useEffect)((()=>{(async()=>{if(f)try{const e=await(0,i.OT)(f.uid),t=Object.keys(e).filter((s=>e[s]));s(t)}catch(e){r.ZP.error("Error fetching favorite teachers")}finally{h(!1)}})()}),[f]),(0,a.useEffect)((()=>{p||(async()=>{u(!0);const s=[];try{if(e.length>0){for(const t of e){const e=await(0,i.id)(t);e&&s.push(e)}d(s)}else d([])}catch(t){r.ZP.error("Error fetching teacher data")}finally{u(!1)}})()}),[e,p]);return(0,x.jsx)("div",{className:" teachers-container",children:m||p?(0,x.jsx)(o.a,{}):t.length>0?(0,x.jsx)(c.s,{teachers:t,favorites:e,handleFavorite:async e=>{if(f)try{await(0,i.mN)(f.uid,e,!0),s((s=>s.filter((s=>s!==e))))}catch(t){r.ZP.error("Error removing from favorites")}else r.ZP.error("Please, sign in for removing teachers from favorites")}}):(0,x.jsxs)("p",{className:"mb-5 md:mb-11 text-base md:text-lg text-center",children:["Sorry, there are no favorite teachers yet. You can add some from the"," ",(0,x.jsx)(l.rU,{to:"/teachers",className:"text-accent font-semibold",children:"Teachers page"})]})})};function m(){return(0,x.jsx)(d,{})}}}]);
//# sourceMappingURL=987.c2b77b4e.chunk.js.map